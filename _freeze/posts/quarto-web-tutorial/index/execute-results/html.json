{
  "hash": "899797e1e960aede53baa45205095eae",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How to Publish a Quarto Website with GitHub Actions\"\n# description: \"blog post description (appears underneath the title in smaller text) which is included on the listing page\"\nauthor:\n  - name: Kelly Shee\n    url: https://kellyshee.github.io/\ndate: 06-07-2025\ncategories: [Quarto, R, GitHub] # self-defined categories\ncitation: \n  url: https://samanthacsik.github.io/posts/2022-10-24-my-blog-post/ \nimage: preview-image.png\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n\nformat: \n  html:\n    code-copy: true\n    \n    other-links:\n      - text: Youtube guide\n        href: https://www.youtube.com/watch?v=arzBRW5XIkg&list=LL\n    \n    code-links:\n      - text: Source\n        href: https://github.com/kellyshee/kellyshee.github.io/blob/main/index.qmd\n        icon: github\n      - text: Knitr with renv\n        href: https://quarto.org/docs/publishing/github-pages.html\n\nnumber-sections: true\n\nlightbox: true\n---\n\n\n\n\nYou need the following:\n\n- [ ] RStudio\n- [ ] GitHub account\n- [ ] 6 to 20 minutes\n\n::: {.callout-note}\nThis website's directory is `kellyshee.github.io`. The directory in the images is `quarto_web_tutorial`, which I deleted because I dislike underscores in URLs.\n:::\n\n# Create a R project\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Navigate to File > New Project > New Directory > Quarto Website.\n2. **Directory name** \n    i) If this website is for . . .\n         A.  yourself: `your-github-username.github.io`\n         B.  class: `your-class-name`\n3. Create project as **subdirectory**\n    i) Where do you want to place this project? It should be somewhere easy to find, such as on your desktop.\n    ii) I'll be creating more version-controlled projects, so I placed this directory (`kellyshee.github.io`) inside a \"github\" folder, which is located inside my Box drive. Therefore, this directory's file path is the following:\n  \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n├── Box-Box\n  ├── github\n    ├── kellyshee.github.io\n```\n:::\n\n\n\n\n4. Engine: **Knitr**\n5. Select **Create a git repository**\n6. Select **Use renv with this project**\n\n## Visual\n\n![](images/01_create_project.png){group=\"my-gallery\"}\n\n![](images/02_project_created.png){group=\"my-gallery\"}\n\n:::\n\n# Create a GitHub repo\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Go to [GitHub](https://GitHub.com).\n2. Click the green \"New\" button next to \"Top repositories\" in the left column.\n3. Type your **repository name**, which must be the same as your directory name. \n4. Do not change anything else. Scroll down to create your repository.\n\n## Visual\n\n![](images/03_create_repo.png){group=\"my-gallery\"}\n\n:::\n\n# Copy Git commands \n\n::: {.panel-tabset}\n\n## Actions\n\n1. Scroll to the section that says \". . . or push an existing repository from the command line.\" \n2. Copy the first two lines.\n3. Return to RStudio.\n\n## Visual\n\n![](images/04_copy_git.png){group=\"my-gallery\"}\n\n:::\n\n# Paste Git commands into terminal\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Navigate to the console pane and switch to the terminal tab.\n2. Paste and enter the commands. The terminal will not return anything.\n\n## Visual\n\n![](images/05_paste_git.png){group=\"my-gallery\"}\n\n:::\n\n# Push local files to repo\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Copy and paste the following commands one by one into the terminal. Output will apppear, indicating that files are being uploaded to your repository.\n\n\n\n\n::: {.cell filename='Terminal'}\n\n```{.r .cell-code}\ngit add .\ngit commit -m \"Initial commit\"\ngit push origin main\n```\n:::\n\n\n\n\n2. Return to your GitHub repository and refresh the page. Your project's files should appear there.\n\n## Visual\n\n![](images/06_push.png){group=\"my-gallery\"}\n\n![](images/07_files_appear.png){group=\"my-gallery\"}\n\n:::\n\n# Create gh-pages branch\n\n::: {.panel-tabset}\n\n## Actions\n\n1. On the same page, click the \"main\" branch button underneath the repository name.\n2. Click \"View all branches.\"\n3. Click \"New branch\" on the right side of the screen.\n4. Name and create a **new branch** called `gh-pages`.\n\n## Visual\n\n![](images/08_create_branch.png){group=\"my-gallery\"}\n\n![](images/09_gh-pages.png){group=\"my-gallery\"}\n\n:::\n\n# Create automation file\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Return to RStudio and navigate to the file tab in the output pane.\n2. Create a **new folder** named `.github`\n3. Inside the `.github` folder, create **another new folder** named `workflows`\n4. Inside the `workflows` folder, create a **text file** named `publish.yml`.\n\nThe file path of `publish.yml` should be the following:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n├── ...\n  ├── kellyshee.github.io\n    ├── kellyshee.github.io.Rproj\n    ├── other files\n    ├── .github\n      ├── workflows\n        ├── publish.yml\n```\n:::\n\n\n\n\n## Visual\n\n![](images/13_publishyml.png){group=\"my-gallery\"}\n\n![](images/14_publishyml_created.png)\n\n:::\n\n# Copy and paste code into publish.yml\n\nPaste the following code into `publish.yml`, then save the file.\n\n\n\n\n::: {.cell filename='.github/workflows/publish.yml'}\n\n```{.r .cell-code}\n# Knitr with renv\n\non:\n  workflow_dispatch:\n  push:\n    branches: main\n\nname: Quarto Publish\n\njobs:\n  build-deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    steps:\n      - name: Check out repository\n        uses: actions/checkout@v4\n\n      - name: Set up Quarto\n        uses: quarto-dev/quarto-actions/setup@v2\n\n      - name: Install R\n        uses: r-lib/actions/setup-r@v2\n        with:\n          r-version: '4.2.0'\n\n      - name: Install R Dependencies\n        uses: r-lib/actions/setup-renv@v2\n        with:\n          cache-version: 1\n\n      - name: Render and Publish\n        uses: quarto-dev/quarto-actions/publish@v2\n        with:\n          target: gh-pages\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n```\n:::\n\n\n\n\n# Push publish.yml to repo\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Return to the terminal tab in the console pane.\n2. Copy and paste the following commands line by line into the terminal. Output will appear.\n\n\n\n\n::: {.cell filename='Terminal'}\n\n```{.r .cell-code}\ngit add .\ngit commit -m \"Add publish.yml to automate publishing of site\"\ngit push origin main\n```\n:::\n\n\n\n\n## Visual\n\n![](images/16_push.png){group=\"my-gallery\"}\n\n:::\n\n# Check repo settings\n\n::: {.panel-tabset}\n\n## Actions\n\n1. Return to GitHub.\n2. Click on the Actions tab. Wait until all actions are green.\n3. Click on the \"Settings\" tab. Look at the side column and click \"Pages.\" Ensure that your GitHub Pages site is built from the `gh-pages` branch.\n4. Click \"Visit site\" at the top of the page. Whenever you edit this site in RStudio, you can use the three Git commands to publish it automatically. It'll take a couple minutes for the site to change.\n\n## Visual\n\n![](images/18_actions_workflows.png)\n\n![](images/19_actions_done.png){group=\"my-gallery\"}\n\n![](images/17_settings_gh-pages.png){group=\"my-gallery\"}\n\n![](images/21_website_created.png){group=\"my-gallery\"}\n\n:::\n\n# Credit\n\nI learned this from a [video](https://www.youtube.com/watch?v=arzBRW5XIkg&list=LL) by [Melissa Van Bussel](https://www.melissavanbussel.com). My tutorial differs from hers in that I use RStudio's terminal instead of a Windows terminal with zsh.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}